{% extends "base.html" %}

{% block title %}AntID Tutor - ArcGIS Distribution Map{% endblock %}

{% block extra_css %}
<style>
    .map-container {
        margin: 20px auto;
        max-width: 800px;
    }
    
    .map-description {
        margin-bottom: 20px;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-12">
            <div class="card shadow mb-4">
                <div class="card-header bg-info text-white">
                    <h2 class="mb-0">Ant Species Distribution Map</h2>
                </div>
                <div class="card-body">
                    <div class="map-description">
                        <p>This interactive map shows the distribution of various ant species across different regions. 
                        You can zoom in/out and click on points to see more information about specific ant species in those areas.</p>
                    </div>
                    
                    <div class="map-container text-center">
                        <!-- ArcGIS Embedded Map -->
                        <arcgis-embedded-map style="height:600px;width:100%;" 
                            item-id="4a072a3899ac4e909dfe8586b892f765" 
                            theme="light" 
                            portal-url="https://odu-gis.maps.arcgis.com">
                        </arcgis-embedded-map>
                    </div>
                    
                    <div class="mt-4">
                        <p>This map is powered by ArcGIS Online and shows real-time data about ant species distribution.</p>
                        <p>Want to contribute to our database? <a href="{{ url_for('map_view') }}">Add your own observations</a> to help our research!</p>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-4 mb-5">
                <a href="{{ url_for('index') }}" class="btn btn-outline-secondary me-2">Back to Home</a>
                <a href="{{ url_for('identify') }}" class="btn btn-primary">Identify an Ant</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<!-- Add script to load the embeddable map component -->
<script type="module" src="https://js.arcgis.com/embeddable-components/4.32/arcgis-embeddable-components.esm.js"></script>
{% endblock %}
